(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cdc53074"],{"5cef":function(e,t,r){},b1ad:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"tab-container",attrs:{size:"mini"}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"180px"}},[r("el-form-item",{attrs:{inline:"true"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("Flink客户端目录 "),r("el-popover",{attrs:{placement:"right",trigger:"hover"}},[r("p",[e._v("Flink客户端目录（必选）")]),r("i",{staticClass:"el-icon-info",attrs:{slot:"reference"},slot:"reference"})])],1),r("el-input",{staticClass:"fl-form-item",attrs:{placeholder:"Flink客户端目录（必选）"},model:{value:e.form.flink_home,callback:function(t){e.$set(e.form,"flink_home",t)},expression:"form.flink_home"}}),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateConfig("flink_home",e.form.flink_home)}}},[e._v("提交")]),r("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.deleteConfig("flink_home")}}},[e._v("删除")])],1),r("el-form-item",{attrs:{inline:"true"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("Flink管理平台目录 "),r("el-popover",{attrs:{placement:"right",trigger:"hover"}},[r("p",[e._v("Flink管理平台应用安装的目录（必选）")]),r("i",{staticClass:"el-icon-info",attrs:{slot:"reference"},slot:"reference"})])],1),r("el-input",{staticClass:"fl-form-item",attrs:{placeholder:"Flink管理平台应用安装的目录（必选）"},model:{value:e.form.flink_streaming_platform_web_home,callback:function(t){e.$set(e.form,"flink_streaming_platform_web_home",t)},expression:"form.flink_streaming_platform_web_home"}}),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateConfig("flink_streaming_platform_web_home",e.form.flink_streaming_platform_web_home)}}},[e._v("提交")]),r("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.deleteConfig("flink_streaming_platform_web_home")}}},[e._v("删除")])],1),r("el-form-item",{attrs:{inline:"true"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("自动开启savepoint "),r("el-popover",{attrs:{placement:"right",trigger:"hover"}},[r("p",[e._v("全局配置 默认开启 变量值 true 或 false")]),r("i",{staticClass:"el-icon-info",attrs:{slot:"reference"},slot:"reference"})])],1),r("el-input",{staticClass:"fl-form-item",attrs:{placeholder:"全局配置 默认开启 变量值 true 或 false"},model:{value:e.form.auto_savepoint,callback:function(t){e.$set(e.form,"auto_savepoint",t)},expression:"form.auto_savepoint"}}),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateConfig("auto_savepoint",e.form.auto_savepoint)}}},[e._v("提交")]),r("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.deleteConfig("auto_savepoint")}}},[e._v("删除")])],1),r("el-form-item",{attrs:{inline:"true"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("Yarn RM Http地址 "),r("el-popover",{attrs:{placement:"right",trigger:"hover"}},[r("p",[e._v("yarn-per-job 和 yarn-application模式必选 可选主备多个地址用;分隔 默认第一个是主")]),r("i",{staticClass:"el-icon-info",attrs:{slot:"reference"},slot:"reference"})])],1),r("el-input",{staticClass:"fl-form-item",attrs:{placeholder:"per-job 和 application模式必选 可选主备多个地址用;分隔 默认第一个是主"},model:{value:e.form.yarn_rm_http_address,callback:function(t){e.$set(e.form,"yarn_rm_http_address",t)},expression:"form.yarn_rm_http_address"}}),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateConfig("yarn_rm_http_address",e.form.yarn_rm_http_address)}}},[e._v("提交")]),r("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.deleteConfig("yarn_rm_http_address")}}},[e._v("删除")])],1),r("el-form-item",{attrs:{inline:"true"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("Flink服务HTTP地址 "),r("el-popover",{attrs:{placement:"right",trigger:"hover"}},[r("p",[e._v("Flink Rest & web frontend 地址(Local Cluster模式)")]),r("i",{staticClass:"el-icon-info",attrs:{slot:"reference"},slot:"reference"})])],1),r("el-input",{staticClass:"fl-form-item",attrs:{placeholder:"Flink Rest & web frontend 地址(Local Cluster模式)"},model:{value:e.form.flink_rest_http_address,callback:function(t){e.$set(e.form,"flink_rest_http_address",t)},expression:"form.flink_rest_http_address"}}),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateConfig("flink_rest_http_address",e.form.flink_rest_http_address)}}},[e._v("提交")]),r("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.deleteConfig("flink_rest_http_address")}}},[e._v("删除")])],1),r("el-form-item",{attrs:{inline:"true"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("Flink HA服务HTTP地址 "),r("el-popover",{attrs:{placement:"right",trigger:"hover"}},[r("p",[e._v("Flink Rest & web frontend HA 地址(Standalone Cluster模式支持HA，可以填写多个地址用;分隔)")]),r("i",{staticClass:"el-icon-info",attrs:{slot:"reference"},slot:"reference"})])],1),r("el-input",{staticClass:"fl-form-item",attrs:{placeholder:"HA http地址(Standalone Cluster模式支持HA，可以填写多个地址用;分隔)"},model:{value:e.form.flink_rest_ha_http_address,callback:function(t){e.$set(e.form,"flink_rest_ha_http_address",t)},expression:"form.flink_rest_ha_http_address"}}),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateConfig("flink_rest_ha_http_address",e.form.flink_rest_ha_http_address)}}},[e._v("提交")]),r("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.deleteConfig("flink_rest_ha_http_address")}}},[e._v("删除")])],1)],1)],1)},a=[],o=(r("d3b7"),r("159b"),r("da71")),s={name:"SystemCfg",data:function(){return{loading:!1,form:{flink_home:"",flink_streaming_platform_web_home:"",auto_savepoint:"",yarn_rm_http_address:"",flink_rest_http_address:"",flink_rest_ha_http_address:""}}},mounted:function(){this.queryConfig()},methods:{queryConfig:function(){var e=this;this.loading=!0,Object(o["c"])().then((function(t){e.loading=!1;var r=t.code,n=t.success,a=t.message,o=t.data;"200"===r&&n?(e.form.flink_home="",e.form.flink_streaming_platform_web_home="",e.form.auto_savepoint="",e.form.yarn_rm_http_address="",e.form.flink_rest_http_address="",e.form.flink_rest_ha_http_address="",o.forEach((function(t){"flink_home"===t.key?e.form.flink_home=t.val:"flink_streaming_platform_web_home"===t.key?e.form.flink_streaming_platform_web_home=t.val:"yarn_rm_http_address"===t.key?e.form.yarn_rm_http_address=t.val:"flink_rest_http_address"===t.key?e.form.flink_rest_http_address=t.val:"flink_rest_ha_http_address"===t.key?e.form.flink_rest_ha_http_address=t.val:"auto_savepoint"===t.key&&(e.form.auto_savepoint=t.val)}))):e.$message({type:"error",message:a||"请求数据异常！"})})).catch((function(t){e.loading=!1,e.$message({type:"error",message:"请求异常！"}),console.log(t)}))},updateConfig:function(e,t){var r=this;this.loading=!0,Object(o["e"])(e,t).then((function(e){r.loading=!1;var t=e.code,n=e.success,a=e.message;e.data;"200"===t&&n?(r.$message({type:"success",message:"更新成功！"}),r.queryConfig()):r.$message({type:"error",message:a||"请求数据异常！"})})).catch((function(e){r.loading=!1,r.$message({type:"error",message:"请求异常！"}),console.log(e)}))},deleteConfig:function(e){var t=this,r="";"flink_home"===e?r="Flink主目录地址配置":"flink_streaming_platform_web_home"===e?r="Flink管理平台Web地址配置":"yarn_rm_http_address"===e?r="Yarn RM Http地址配置":"flink_rest_http_address"===e?r="Flink Web地址":"flink_rest_ha_http_address"===e?r="Flink HA Web地址":"auto_savepoint"===e&&(r="Flink auto_savepoint"),this.$confirm("是否删除".concat(r),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.loading=!0,Object(o["b"])(e).then((function(e){t.loading=!1;var r=e.code,n=e.success,a=e.message;e.data;"200"===r&&n?(t.$message({type:"success",message:"删除成功！"}),t.queryConfig()):t.$message({type:"error",message:a||"请求数据异常！"})})).catch((function(e){t.loading=!1,t.$message({type:"error",message:"请求异常！"}),console.log(e)}))}))}}},i=s,l=(r("eb41"),r("2877")),f=Object(l["a"])(i,n,a,!1,null,"6eb652d8",null);t["default"]=f.exports},da71:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"e",(function(){return l})),r.d(t,"d",(function(){return f})),r.d(t,"b",(function(){return _}));var n=r("b775"),a=r("4328"),o=r.n(a);function s(){return Object(n["a"])({url:"/alartConfig",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:[function(e){return o.a.stringify(e)}],data:{}})}function i(){return Object(n["a"])({url:"/sysConfig",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:[function(e){return o.a.stringify(e)}],data:{}})}function l(e,t){return Object(n["a"])({url:"/upsertSynConfig",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:[function(e){return o.a.stringify(e)}],data:{key:e,val:t}})}function f(e){return Object(n["a"])({url:e,method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function _(e){return Object(n["a"])({url:"/deleteConfig",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:[function(e){return o.a.stringify(e)}],data:{key:e}})}},eb41:function(e,t,r){"use strict";r("5cef")}}]);